<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">    
<title>LED MASK</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Toggle Button Bootstrap -->
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

<link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">

</head>

<body>

<div class="container-fluid">
<a href=".">
<img class="img-responsive" src="{{ url_for('static', filename='img/MaskTitle.png') }}" height="480" width="640" alt="Mask Logo">
</a>
</div>

<div class="container-fluid">
	<label class="button-label" for="deviceUrl">Device Url</label>
	<input type="text" class="form-control" id="deviceUrl" value={{ data.url }}>
	<br>
	<label class="button-label" for="deviceApiKey">Device Api Key</label>
	<input type="password" class="form-control" id="deviceApiKey" value={{ data.key }}>
	<br>
	<button type="button" class="btn btn-info btn-lg" onclick="saveSettings()">Save</button>
	<label style="padding-left: 20px;" class="button-label" id="lblSaveResult">
</div>

<script>

  

  function saveSettings () {
  
	var url = $('#deviceUrl').prop('value');
	var key = $('#deviceApiKey').prop('value');
	$.ajax({
	  url: 'updateSettings',
	  method: 'post',
	  data: {'url': url, 'key': key},
	  success: function(data){
		$('#deviceApiKey').val(data.key);
		$('#lblSaveResult').text(data.res);
	  },
	  error: function(){}
	}); 
  }
  
  
</script>

</body>
</html>
